ini tugas bu eny

         Jabatan      Fungsional pada website        Keterangan
ali    = bos       -> Produk, Mitra, Bahan        => create read edit
arya   = produksi  -> penjahitan, detail jahit    => create read
febi   = gudang    -> pembelian, detail pembelian => create read
ian    = penjualan -> Penjualan, detail penjualan => create read
eriq   = HRD       -> user, Penggajian,           => create read edit
anonim = finance   -> Finance                     => create read

user & password login: nama masing"
kecuali user anonim pass: riqqi

anggota memiliki tanggung jawab modul berbeda mulai minggu depan
tulis nama semua kelompok kemudian bold yang bagiannya

Progesss:
Login & Logout sudah bisa
Seeder: UserSeeder, BahanSeeder, ProdukSeeder, MitraSeeder, PenjualanSeeder, DetailPenjualanSeeder
contoh:
ketik di terminal : php spark db:seed UserSeeder
___________________________________________________________
Buat tabel view untuk lihat grafik pada index bos
->view_jumlah_produk_penjualan_tahunan
->view_pendapatan_penjualan_tahunan
->view_data_penjualan_tahunan

copy paste code berikut pada sql localhost/phpmyadmin: 

CREATE VIEW view_jumlah_produk_penjualan_tahunan AS SELECT DISTINCT
    YEAR(p.tgl) AS tahun,
    SUM(dp.jumlah) AS jumlah
FROM
    detail_penjualan dp,
    penjualan p,
    produk pr
WHERE
    p.id_penjualan = dp.id_penjualan AND
    pr.id_produk=dp.id_produk
GROUP BY
    YEAR(p.tgl);

CREATE VIEW view_pendapatan_penjualan_tahunan AS SELECT
year(p.tgl) as tahun,
	sum(p.total_bayar) as total
    FROM penjualan p
    GROUP BY year(p.tgl)

CREATE VIEW view_data_penjualan_tahunan AS
SELECT
    p.id_penjualan,
    YEAR(p.tgl) AS tahun,
    p.total_bayar,
    pr.id_produk, dp.jumlah,
    dp.total
FROM
    penjualan p,
    detail_penjualan dp,
    produk pr
WHERE
    p.id_penjualan = dp.id_penjualan AND pr.id_produk=dp.id_produk 

CREATE VIEW view_jumlah_produk_penjualan_bulanan_2019 AS SELECT DISTINCT
    monthname(p.tgl) AS bulan,
    SUM(dp.jumlah) AS jumlah
FROM
    detail_penjualan dp,
    penjualan p,
    produk pr
WHERE
    p.id_penjualan = dp.id_penjualan AND
    pr.id_produk=dp.id_produk AND YEAR(p.tgl)=2019
GROUP BY
    month(p.tgl)

CREATE VIEW view_pendapatan_penjualan_bulanan_2023 AS SELECT
monthname(p.tgl) as bulan,
	sum(p.total_bayar) as total
    FROM penjualan p
    WHERE year(p.tgl)=2023
    GROUP BY month(p.tgl)

CREATE VIEW view_data_penjualan_bulanan_2019 AS SELECT
    p.id_penjualan,
    monthname(p.tgl) AS bulan,
    p.total_bayar,
    pr.id_produk, dp.jumlah,
    dp.total
FROM
    penjualan p,
    detail_penjualan dp,
    produk pr
WHERE
    p.id_penjualan = dp.id_penjualan AND pr.id_produk=dp.id_produk AND year(p.tgl)=2019
___________________________________________________________
buat view untuk penjahitan (Arya) diagram

CREATE VIEW view_jumlah_produksi_total_produk AS SELECT p.nama, SUM(dj.jumlah) as jumlah FROM produk as p, detail_jahit as dj WHERE p.id_produk = dj.id_produk GROUP BY p.id_produk
___________________________________________________________
Kurang:
Belum ada otorisasi
___________________________________________________________
___________________________________________________________
___________________________________________________________

---------------------riqqi---------------------
HRD
<PRIMARY>
- tabel penggajian isinya apa saja (id, id_karyawan, total_gaji, tanggal, status)
- status berisi apa saja (approve, pending, reject)

prosedur absensi
- karyawan terlambat dikurangi 15000
- karyawan lembur ditambah 10000

PROSEDUR Penggajian
- prosedur untuk menghitung gaji karyawan = dihitung dari total jam masuk karyawan jika masih 8 jam walaupun terlambat maka tidak dikurangi  jika kurang dari 8 jam maka dikurangi 15000 perhari jika kelebihan dari 8 jam itu lebih dari 1 jam maka dihitung lembur 10000 
- hrd mengajukan gaji karyawan ke bos dan finance, setelah acc maka status penggajian berubah menjadi approve/reject/,selama tanggal 25 sampai akhir bulan pending dulu
- setelah approve maka finance akan mengirimkan gaji karyawan ke karyawan tersebut, dan dikirimkan slip gaji

tugas minggu ini : 
- Merekap data absensi karyawan (berdasarkan total jam masuk karyawan) untuk bahan pembuatan gaji bulanan setiap akhir bulan >>>>>> buat ini dulu
 (klik approve gaji akan memberikan laporan penggajan ke bagian finance,bos, dan karyawan)
-memberikan laporan gaji karyawan kepada bos dan bagian finance
-memberikan pesan notifikasi gaji per karyawan di sistem per bulan

cons
- belum ada fitur lembur
- fitur absensi masih bisa diakses bos
- penghitungan awal penggajian masih awal bulan bukan dari esok hari penggajian bulan kemaren
---------------------riqqi---------------------


---------------------ian-------------------
